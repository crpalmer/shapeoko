; Middle probing for Y:
;   * Probe and set zero on the bottom side of the object being probed
;   * Jog to position the spindle to the top of the object being
;     probed and close to the object
;   * Run this macro which will touch the object and then set a new zero

; Wait until the planner queue is empty
%wait

; Save modal state
%WCS = modal.wcs
%PLANE = modal.plane
%UNITS = modal.units
%DISTANCE = modal.distance
%FEEDRATE = modal.feedrate
%SPINDLE = modal.spindle
%COOLANT = modal.coolant

G21                                      ; metric
M5                                       ; Stop spindle
G91	                                 ; Relative positioning

G38.2 Y-10 F22.5                         ; Touch the side
G10 L20 Y[global.state.PROBE_DIAMETER]   ; Zero at the probe edge
G1 Y1 F600                               ; Back off a little bit

G90                                      ; Absolute positioning

; Restore modal state
[WCS] [PLANE] [UNITS] [DISTANCE] [FEEDRATE] [SPINDLE] [COOLANT]

